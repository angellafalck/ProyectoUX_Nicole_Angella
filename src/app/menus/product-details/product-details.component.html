<div class="fixed-top pizza-cursor">
  <mat-toolbar style= "height:15%; background-color: #770D15; background-size: 20%;" >
    <span class= "header-font"><img src="../assets/images/pizza_logo.png"width="100" height="100">Crunchy Royal Pizza</span>
  </mat-toolbar>
  <div>
    <nav class="navbar navbar-dark navbar-expand-lg shift" style="background-color: #597718;">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" style="color: #F9EEC9;"[routerLink]="['/home']" >Cerrar Sesión</a>
              </li>
              <li class="nav-item">
                <a class="nav-link menu" style="color: #F9EEC9;" (click)="fnBackToMenu()" >Menú</a>
              </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
</div>

<div class="pizza-cursor" style="background-color: #F9EEC9; padding-top: 170px;">
    <div class="container card mb-3" style="max-width: 1040px;">
        <h4 class="card-title text-center text-uppercase">{{product?.title}}</h4>
        <div class="row g-0">
        <div class="col-md-4">
            <img src="../assets/images/{{product?.imageUrl}}" class="img-fluid rounded-start" alt="...">
        </div>
        <div class="col-md-8">
            <div class="card-body">
            <p class="card-text">{{product?.description}}</p>
            <p class="card-text">Precio <em class="text-danger">Lps.{{product?.price}}</em></p>
            <button type="button" 
                class="btn btn-success" 
                (click)="fnAddToOrder()"
                >Ordenar</button>
            </div>
        </div>
        </div>
    </div>
    <hr>
    <div class="container">
        <h4 class="text-center">RESEÑAS</h4>
        <div class="card text-dark bg-light mb-3" *ngFor="let review of reviews[0]">
            <review-thumbnail 
                [review]="review">
            </review-thumbnail>
        </div>
    </div>
    <form class="container" style="margin-top: 2%;" #reviewForm="ngForm" (ngSubmit)="fnAddReview(reviewForm.value)">
      <h5>Agregar Reseña</h5>
      <div class="row mb-3">
        <label for="stars" class="col-sm-2 col-form-label">Calificación (1-5): </label>
        <div class="col-sm-10"
          [ngClass]="{
            error:
            reviewForm.controls.stars?.invalid &&
            reviewForm.controls.stars?.touched
          }"
        >
          <em class="emp" *ngIf="reviewForm.controls.stars?.invalid &&
          reviewForm.controls.stars?.touched"
          >Campo requerido</em>
          <input 
            [(ngModel)]="stars"
            type="text" 
            class="form-control" 
            id="stars"
            name="stars"
            placeholder="Cantidad de estrellas (1-5)"
            required
          />
        </div>
      </div>
      <div class="row mb-3">
        <label for="comment" class="col-sm-2 col-form-label">Comentario: </label>
        <div class="col-sm-10"
        [ngClass]="{
          error:
          reviewForm.controls.comment?.invalid &&
          reviewForm.controls.comment?.touched
        }"
        >
          <em class="emp" *ngIf="reviewForm.controls.comment?.invalid &&
          reviewForm.controls.comment?.touched"
          >Campo requerido</em>
          <textarea 
            [(ngModel)]="comment"
            type="text" 
            class="form-control" 
            id="comment" 
            name="comment"
            rows="3"
            placeholder="Reseña del producto"
            required></textarea>
        </div>
      </div>
      <button 
        type="submit" 
        class="btn btn-success"
        [disabled]="reviewForm.invalid"
        style="margin-left: 55%;"
        >Salvar</button>
    </form>
    <br>
    <br>
</div>